@using Alliant.ViewModel
@using Newtonsoft.Json
@model List<CDESCRIPTIONTemplate>
@{ 
    Layout = null;
}

<div class="jsCDescriptionTemplate" id="jsCDescriptionTemplate">
    @{
        if (Model == null || Model?.Count() == 0)
        {
            @Html.Partial("_NotFound")
        }
        else
        {
            <div class="card-content collapse show">
                <div class="card-body card-dashboard both-side-scroll scroll-example Hegiht300">
                    <table class="table table-striped table-bordered zero-configuration">
                        <thead>
                            <tr>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Cat1</th>
                                <th>Cat2</th>
                                <th>Cat3</th>                              
                            </tr>
                        </thead>
                        <tbody id="cdescriptionContent"> </tbody>
                    </table>
                </div>
            </div>           
            <script id="cdescriptionTemplate" type="text/x-jquery-tmpl">
                <tr class="accordion-toggle collapsed" id="accordion-${CustID}" data-toggle="collapse" data-parent="#accordion-${CustID}" href="#collapse-${CustID}">
                    <td width="30%">${Category}</td>
                    <td width="10%">${Price}</td>
                    <td width="20%">${CAT1}</td>
                    <td width="20%">${CAT2}</td>
                    <td width="20%">${CAT3}</td>                   
                </tr>
                <tr class="hide-table-padding">
                    <td colspan="6">
                        <div id="collapse-${CustID}" class="collapse in">
                            <ul class="row col-12 col-xl-8" style="padding:0px; left:10px">
                                <li class="col-2 col-xl-2" style="margin: auto; text-align:center; padding:0px;">
                                    <a href="#" target="_blank" style="padding:0px;">
                                        <i class="la la-check-square font-small-3"></i>
                                        <p class="font-small-3">Quotes</p>
                                    </a>
                                </li>
                                <li class="col-2 col-xl-2" style="margin: auto; text-align:center;  padding:0px;">
                                    <a href="#" target="_blank" style="padding:0px;">
                                        <i class="la la-file-text font-small-3 "></i>
                                        <p class="font-small-3">Contracts</p>
                                    </a>
                                </li>
                                <li class="col-2 col-xl-2" style="margin: auto; text-align:center;  padding-left:10px; padding-right:0px">
                                    <a href="#" target="_blank" style="padding:0px;">
                                        <i class="la la-clipboard font-small-3 "></i>
                                        <p class="font-small-3 ">Invoices</p>
                                    </a>
                                </li>
                                <li class="col-2 col-xl-2" style="margin: auto; text-align:center;  padding:0px;">
                                    <a href="#" target="_blank" style="padding:0px;">
                                        <i class="la la-edit font-small-3 "></i>
                                        <p class="font-small-3">Credit Memo</p>
                                    </a>
                                </li>
                                <li class="col-2 col-xl-2" style="margin: auto; text-align:center;  padding:0px;">
                                    <a href="#" target="_blank" style="padding:0px;">
                                        <i class="la la-money font-small-3 "></i>
                                        <p class="font-small-3">Payments</p>
                                    </a>
                                </li>
                                <li class="col-2 col-xl-2" style="margin: auto; text-align:center;  padding:0px;">
                                    <a href="#" target="_blank" style="padding:0px;">
                                        <i class="la la-briefcase font-small-3 "></i>
                                        <p class="font-small-3">PO</p>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </script>           

        }
    }
</div>
<script type="text/javascript">
    var data = JSON.parse('@Html.Raw(JsonConvert.SerializeObject(Model,
                                           new JsonSerializerSettings() {
                                               StringEscapeHandling = StringEscapeHandling.EscapeHtml,
                                               NullValueHandling=NullValueHandling.Ignore
                                           }))');
    if (data.length > 0) {
        $("#cdescriptionTemplate").tmpl(data).appendTo("#cdescriptionContent");
    }
</script>